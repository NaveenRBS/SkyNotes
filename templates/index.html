<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Notes – SkyNotes</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- Header / Navbar -->
  <header class="navbar">
    <h1>SkyNotes</h1>
    <nav>
      <a href="{{ url_for('dashboard') }}">Dashboard</a>
      <a href="{{ url_for('logout') }}">Log‑Out</a>
    </nav>
  </header>

  <main class="notes-main">

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=False) %}
      {% if messages %}
      <div class="flash-message">
        {% for msg in messages %}
          <p>{{ msg }}</p>
        {% endfor %}
      </div>
      {% endif %}
    {% endwith %}

    <!-- Add New Note Form -->
    <section class="form-container">
      <h2 class="form-title">Add a New Note</h2>
      <form action="{{ url_for('dashboard') }}" method="POST">
        <label for="title">Title</label>
        <input
          type="text" id="title" name="title"
          placeholder="Note title" required
        />

        <label for="note">Content</label>
        <textarea
          id="note" name="note" rows="4"
          placeholder="Write your note here…" required
        ></textarea>

        <input type="submit" value="Save Note" />
      </form>
    </section>

    <!-- Notes List -->
    <section class="notes-wrapper">
      {% if datas %}
        {% for note in datas %}
        <article class="note-container">
          <h3>{{ note.title }}</h3>
          <p>{{ note.note }}</p>

          <div class="note-actions">
            <!-- Edit link -->
            <a
              href="{{ url_for('editnote',
                               user_id=session.get('user_id'),
                               note_id=note.note_id) }}"
              class="btn small"
            >
              Edit
            </a>

            <!-- Delete link -->
            <a
              href="{{ url_for('deletenote',
                               user_id=session.get('user_id'),
                               note_id=note.note_id) }}"
              class="btn small warn"
            >
              Delete
            </a>
          </div>
        </article>
        {% endfor %}
      {% else %}
        <p style="color:#bbb; text-align:center; width:100%;">You have no notes yet. Create one!</p>
      {% endif %}
    </section>

  </main>

</body>
</html>
